<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="using:Uno.Themes.SDS.Controls"
                    xmlns:utu="using:Uno.Toolkit.UI">

  <!-- Button Style for Light Pricing Cards -->
  <Style x:Key="LightPricingCardButtonStyle" TargetType="Button">
    <Setter Property="Background" Value="#2c2c2c" />
    <Setter Property="Foreground" Value="#f5f5f5" />
    <Setter Property="BorderBrush" Value="#2c2c2c" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="CornerRadius" Value="{StaticResource ButtonCornerRadius}" />
    <Setter Property="Padding" Value="{StaticResource ButtonPadding}" />
    <Setter Property="HorizontalAlignment" Value="Stretch" />
    <Setter Property="FontSize" Value="16" />
    <Setter Property="FontWeight" Value="SemiBold" />
  </Style>

  <!-- Button Style for Branded (Dark) Pricing Cards -->
  <Style x:Key="BrandedPricingCardButtonStyle" TargetType="Button">
    <Setter Property="Background" Value="#e3e3e3" />
    <Setter Property="Foreground" Value="#1e1e1e" />
    <Setter Property="BorderBrush" Value="#767676" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="CornerRadius" Value="{StaticResource ButtonCornerRadius}" />
    <Setter Property="Padding" Value="{StaticResource ButtonPadding}" />
    <Setter Property="HorizontalAlignment" Value="Stretch" />
    <Setter Property="FontSize" Value="16" />
    <Setter Property="FontWeight" Value="SemiBold" />
  </Style>

  <Style x:Key="DefaultPricingCardStyle" TargetType="controls:PricingCard">
    <Setter Property="Width" Value="300" />
    <Setter Property="HorizontalAlignment" Value="Left" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="controls:PricingCard">
          <Border Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="{StaticResource Radius200}">
            <Grid>
              <!-- Desktop Layout -->
              <utu:AutoLayout x:Name="DesktopLayout"
                              Orientation="Vertical" 
                              Spacing="{StaticResource Space600}"
                              Padding="{StaticResource Spacing800}"
                              Visibility="Visible">

                <!-- Title -->
                <TextBlock x:Name="DesktopTitle" 
                           Text="{TemplateBinding Title}"
                           FontSize="20"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           TextAlignment="Center"
                           Foreground="{TemplateBinding Foreground}" />
              
                <!-- Price Display -->
                <Grid HorizontalAlignment="Center">
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                  </Grid.ColumnDefinitions>
                  <TextBlock Grid.Column="0"
                             Text="$"
                             FontSize="24"
                             FontWeight="Bold"
                             CharacterSpacing="-20"
                             Foreground="{TemplateBinding Foreground}"
                             VerticalAlignment="Top"
                             Margin="0,8,0,0" />
                  <TextBlock Grid.Column="1"
                             Text="{TemplateBinding Price}"
                             FontSize="48"
                             FontWeight="Bold"
                             CharacterSpacing="-20"
                             Foreground="{TemplateBinding Foreground}" />
                  <TextBlock Grid.Column="2"
                             Text="{TemplateBinding Period}"
                             FontSize="14"
                             Foreground="{TemplateBinding Foreground}"
                             VerticalAlignment="Bottom"
                             Margin="0,0,0,10" />
                </Grid>

                <!-- List Items -->
                <ItemsControl x:Name="DesktopFeaturesList" ItemsSource="{TemplateBinding Features}">
                  <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                      <utu:AutoLayout Orientation="Vertical" Spacing="{StaticResource Space300}" />
                    </ItemsPanelTemplate>
                  </ItemsControl.ItemsPanel>
                  <ItemsControl.ItemTemplate>
                    <DataTemplate>
                    <TextBlock TextWrapping="Wrap">
                        <Run Text="•" FontSize="16" />
                        <Run Text="  " />
                        <Run Text="{Binding}" FontSize="16" />
                      </TextBlock>
                    </DataTemplate>
                  </ItemsControl.ItemTemplate>
                </ItemsControl>

                <Grid>
                  <Button x:Name="DesktopButton"
                          Style="{StaticResource FilledButtonStyle}"
                          Content="{TemplateBinding ButtonText}"
                          Background="{TemplateBinding ButtonBackground}"
                          Foreground="{TemplateBinding ButtonForeground}"
                          BorderBrush="{TemplateBinding ButtonBorderBrush}"
                          HorizontalAlignment="Stretch" />
                </Grid>
              </utu:AutoLayout>

              <!-- Mobile Layout -->
              <utu:AutoLayout x:Name="MobileLayout"
                              Orientation="Vertical" 
                              Spacing="{StaticResource Space600}"
                              Padding="{StaticResource Spacing600}"
                              Visibility="Collapsed">

                <!-- Title and Price Row -->
                <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*" />
                  <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0"
                           Text="{TemplateBinding Title}"
                           FontSize="20"
                           FontWeight="Bold"
                           Foreground="{TemplateBinding Foreground}"
                           VerticalAlignment="Top" />
                
                <Grid Grid.Column="1">
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                  </Grid.ColumnDefinitions>
                  <TextBlock Grid.Column="0"
                             Text="$"
                             FontSize="20"
                             FontWeight="Bold"
                             CharacterSpacing="-20"
                             Foreground="{TemplateBinding Foreground}"
                             VerticalAlignment="Top"
                             Margin="0,4,0,0" />
                  <TextBlock Grid.Column="1"
                             Text="{TemplateBinding Price}"
                             FontSize="28"
                             FontWeight="Bold"
                             CharacterSpacing="-20"
                             Foreground="{TemplateBinding Foreground}" />
                  <TextBlock Grid.Column="2"
                             Text="{TemplateBinding Period}"
                             FontSize="14"
                             Foreground="{TemplateBinding Foreground}"
                             VerticalAlignment="Bottom"
                             Margin="0,0,0,4" />
                </Grid>
              </Grid>

              <!-- List Items -->
              <ItemsControl x:Name="MobileFeaturesList" ItemsSource="{TemplateBinding Features}">
                <ItemsControl.ItemsPanel>
                  <ItemsPanelTemplate>
                    <utu:AutoLayout Orientation="Vertical" Spacing="{StaticResource Space200}" />
                  </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                  <DataTemplate>
                    <TextBlock TextWrapping="Wrap">
                      <Run Text="•" FontSize="16" />
                      <Run Text="  " />
                      <Run Text="{Binding}" FontSize="16" />
                    </TextBlock>
                  </DataTemplate>
                </ItemsControl.ItemTemplate>
              </ItemsControl>

              <Grid>
                <Button x:Name="MobileButton"
                        Style="{StaticResource FilledButtonStyle}"
                        Content="{TemplateBinding ButtonText}"
                        Background="{TemplateBinding ButtonBackground}"
                        Foreground="{TemplateBinding ButtonForeground}"
                        BorderBrush="{TemplateBinding ButtonBorderBrush}"
                        HorizontalAlignment="Stretch" />
              </Grid>
            </utu:AutoLayout>

            <VisualStateManager.VisualStateGroups>
              <VisualStateGroup x:Name="LayoutStates">
                <VisualState x:Name="Desktop">
                  <VisualState.Setters>
                    <Setter Target="DesktopLayout.Visibility" Value="Visible" />
                    <Setter Target="MobileLayout.Visibility" Value="Collapsed" />
                  </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="Mobile">
                  <VisualState.Setters>
                    <Setter Target="DesktopLayout.Visibility" Value="Collapsed" />
                    <Setter Target="MobileLayout.Visibility" Value="Visible" />
                  </VisualState.Setters>
                </VisualState>
              </VisualStateGroup>

              <VisualStateGroup x:Name="BrandingStates">
                <VisualState x:Name="Light">
                  <VisualState.Setters>
                    <Setter Target="DesktopFeaturesList.Foreground" Value="{StaticResource OnSurfaceMediumBrush}" />
                    <Setter Target="MobileFeaturesList.Foreground" Value="{StaticResource OnSurfaceMediumBrush}" />
                  </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="Branded">
                  <VisualState.Setters>
                    <!-- List items color #F5F5F5 -->
                    <Setter Target="DesktopFeaturesList.Foreground" Value="{StaticResource PrimaryVariantLightBrush}" />
                    <Setter Target="MobileFeaturesList.Foreground" Value="{StaticResource PrimaryVariantLightBrush}" />
                  </VisualState.Setters>
                </VisualState>
              </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
          </Grid>
        </Border>
      </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Light Desktop Variant -->
  <Style x:Key="LightDesktopPricingCardStyle" TargetType="controls:PricingCard" BasedOn="{StaticResource DefaultPricingCardStyle}">
    <Setter Property="Background" Value="{StaticResource SurfaceBrush}" />
    <Setter Property="Foreground" Value="{StaticResource OnSurfaceBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource OutlineBrush}" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="LayoutVariant" Value="Desktop" />
    <Setter Property="IsBranded" Value="False" />
    <Setter Property="ButtonBackground" Value="{StaticResource PrimaryBrush}" />
    <Setter Property="ButtonForeground" Value="{StaticResource OnPrimaryBrush}" />
    <Setter Property="ButtonBorderBrush" Value="{StaticResource PrimaryBrush}" />
  </Style>

  <!-- Branded Desktop Variant -->
  <Style x:Key="BrandedDesktopPricingCardStyle" TargetType="controls:PricingCard" BasedOn="{StaticResource DefaultPricingCardStyle}">
    <Setter Property="Background" Value="{StaticResource PrimaryBrush}" />
    <Setter Property="Foreground" Value="{StaticResource OnPrimaryBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="LayoutVariant" Value="Desktop" />
    <Setter Property="IsBranded" Value="True" />
    <Setter Property="ButtonBackground" Value="{StaticResource BackgroundTertiaryBrush}" />
    <Setter Property="ButtonForeground" Value="{StaticResource OnSurfaceBrush}" />
    <Setter Property="ButtonBorderBrush" Value="{StaticResource OutlineVariantBrush}" />
  </Style>

  <!-- Light Mobile Variant -->
  <Style x:Key="LightMobilePricingCardStyle" TargetType="controls:PricingCard" BasedOn="{StaticResource DefaultPricingCardStyle}">
    <Setter Property="Background" Value="{StaticResource SurfaceBrush}" />
    <Setter Property="Foreground" Value="{StaticResource OnSurfaceBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource OutlineBrush}" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="LayoutVariant" Value="Mobile" />
    <Setter Property="IsBranded" Value="False" />
    <Setter Property="ButtonBackground" Value="{StaticResource PrimaryBrush}" />
    <Setter Property="ButtonForeground" Value="{StaticResource OnPrimaryBrush}" />
    <Setter Property="ButtonBorderBrush" Value="{StaticResource PrimaryBrush}" />
  </Style>

  <!-- Branded Mobile Variant -->
  <Style x:Key="BrandedMobilePricingCardStyle" TargetType="controls:PricingCard" BasedOn="{StaticResource DefaultPricingCardStyle}">
    <Setter Property="Background" Value="{StaticResource PrimaryBrush}" />
    <Setter Property="Foreground" Value="{StaticResource OnPrimaryBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="LayoutVariant" Value="Mobile" />
    <Setter Property="IsBranded" Value="True" />
    <Setter Property="ButtonBackground" Value="{StaticResource BackgroundTertiaryBrush}" />
    <Setter Property="ButtonForeground" Value="{StaticResource OnSurfaceBrush}" />
    <Setter Property="ButtonBorderBrush" Value="{StaticResource OutlineVariantBrush}" />
  </Style>

  <!-- Implicit Style (applies to all PricingCard without explicit Style) -->
  <Style TargetType="controls:PricingCard" BasedOn="{StaticResource DefaultPricingCardStyle}" />

</ResourceDictionary>
