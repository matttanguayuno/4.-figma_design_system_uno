<UserControl
    x:Class="figma_design_system_uno.Controls.SourceCodeViewer"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:figma_design_system_uno.Controls"
    xmlns:utu="using:Uno.Toolkit.UI">

    <UserControl.Resources>
        <local:SourceCodeViewerModel x:Key="ViewModel" />
    </UserControl.Resources>

    <utu:AutoLayout Orientation="Vertical" Spacing="16">
        
        <!-- Separator with more prominence -->
        <Border Height="2" 
                Background="{StaticResource DividerBrush}" 
                Margin="0,48,0,0" 
                Opacity="0.5" />
        
        <!-- Section Container with different background -->
        <Border Background="{StaticResource SurfaceVariantBrush}"
                BorderBrush="{StaticResource DividerBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="24"
                Margin="0,16,0,0">
            
            <utu:AutoLayout Orientation="Vertical" Spacing="16">
                
                <!-- Section Header -->
                <utu:AutoLayout Orientation="Vertical" Spacing="8">
                    <TextBlock Text="Source Code" 
                               Style="{StaticResource HeadingTextBlockStyle}" />
                    <TextBlock Text="View and copy the XAML source code for this component."
                               Style="{StaticResource BodyBaseTextBlockStyle}"
                               Foreground="{StaticResource SecondaryTextBrush}"
                               TextWrapping="Wrap" />
                </utu:AutoLayout>

        <!-- Page XAML Section -->
        <Expander x:Name="PageXamlExpander"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Stretch">
            <Expander.Header>
                <TextBlock Text="Page XAML" Foreground="{StaticResource PrimaryTextBrush}" FontWeight="SemiBold" />
            </Expander.Header>
            <utu:AutoLayout Orientation="Vertical" Spacing="12" Padding="12">
                <utu:AutoLayout Orientation="Horizontal" Spacing="12">
                    <Button x:Name="CopyPageXamlButton"
                            Content="Copy to Clipboard"
                            Style="{StaticResource ButtonPrimarySmallStyle}"
                            Click="CopyPageXaml_Click" />
                    <TextBlock x:Name="PageXamlCopyStatus"
                               Text=""
                               VerticalAlignment="Center"
                               Foreground="{StaticResource SecondaryTextBrush}"
                               Style="{StaticResource BodyBaseTextBlockStyle}" />
                </utu:AutoLayout>
                
                <ScrollViewer MaxHeight="400" 
                              HorizontalScrollBarVisibility="Auto"
                              VerticalScrollBarVisibility="Auto">
                    <Border Background="{StaticResource BackgroundSecondaryBrush}"
                            BorderThickness="1"
                            BorderBrush="{StaticResource DividerBrush}"
                            Padding="12">
                        <TextBlock x:Name="PageXamlTextBox"
                                   TextWrapping="NoWrap"
                                   FontFamily="Consolas, Courier New, monospace"
                                   FontSize="12"
                                   Foreground="{StaticResource PrimaryTextBrush}"
                                   IsTextSelectionEnabled="True" />
                    </Border>
                </ScrollViewer>
            </utu:AutoLayout>
        </Expander>

        <!-- Style XAML Section -->
        <Expander x:Name="StyleXamlExpander"
                  HorizontalAlignment="Stretch"
                  HorizontalContentAlignment="Stretch">
            <Expander.Header>
                <TextBlock Text="Style XAML" Foreground="{StaticResource PrimaryTextBrush}" FontWeight="SemiBold" />
            </Expander.Header>
            <utu:AutoLayout Orientation="Vertical" Spacing="12" Padding="12">
                <utu:AutoLayout Orientation="Horizontal" Spacing="12">
                    <Button x:Name="CopyStyleXamlButton"
                            Content="Copy to Clipboard"
                            Style="{StaticResource ButtonPrimarySmallStyle}"
                            Click="CopyStyleXaml_Click" />
                    <TextBlock x:Name="StyleXamlCopyStatus"
                               Text=""
                               VerticalAlignment="Center"
                               Foreground="{StaticResource SecondaryTextBrush}"
                               Style="{StaticResource BodyBaseTextBlockStyle}" />
                </utu:AutoLayout>
                
                <ScrollViewer MaxHeight="400"
                              HorizontalScrollBarVisibility="Auto"
                              VerticalScrollBarVisibility="Auto">
                    <Border Background="{StaticResource BackgroundSecondaryBrush}"
                            BorderThickness="1"
                            BorderBrush="{StaticResource DividerBrush}"
                            Padding="12">
                        <TextBlock x:Name="StyleXamlTextBox"
                                   TextWrapping="NoWrap"
                                   FontFamily="Consolas, Courier New, monospace"
                                   FontSize="12"
                                   Foreground="{StaticResource PrimaryTextBrush}"
                                   IsTextSelectionEnabled="True" />
                    </Border>
                </ScrollViewer>
            </utu:AutoLayout>
        </Expander>

            </utu:AutoLayout>
        </Border>

    </utu:AutoLayout>
</UserControl>