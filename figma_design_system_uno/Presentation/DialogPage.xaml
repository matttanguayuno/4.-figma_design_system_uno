<Page x:Class="figma_design_system_uno.Presentation.DialogPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:figma_design_system_uno.Presentation"
      xmlns:utu="using:Uno.Toolkit.UI"
      xmlns:controls="using:figma_design_system_uno.Controls"
      NavigationCacheMode="Required"
      Background="Transparent">

  <Page.Resources>
    <local:DialogModel x:Key="ViewModel" />
    
    <!-- Dialog-specific brushes -->
    <SolidColorBrush x:Key="DialogBackgroundBrush" Color="White" />
    <SolidColorBrush x:Key="DialogBorderBrush" Color="#d9d9d9" />
    <SolidColorBrush x:Key="DialogScrimBrush" Color="#CCffffff" />
    <SolidColorBrush x:Key="SecondaryButtonBackgroundBrush" Color="#e3e3e3" />
    <SolidColorBrush x:Key="SecondaryButtonBorderBrush" Color="#767676" />
    <SolidColorBrush x:Key="PrimaryButtonBackgroundBrush" Color="#2c2c2c" />
    <SolidColorBrush x:Key="PrimaryButtonTextBrush" Color="#f5f5f5" />
  </Page.Resources>

  <ScrollViewer>
    <utu:AutoLayout Orientation="Vertical"
                    Spacing="{StaticResource Space800}"
                    Padding="{StaticResource Spacing800}">

      <!-- Page Header -->
      <utu:NavigationBar Content="Dialog Component"
                         HorizontalContentAlignment="Left"
                         VerticalAlignment="Bottom">
        <utu:NavigationBar.MainCommand>
          <AppBarButton Icon="Back" Click="OnBackClick" />
        </utu:NavigationBar.MainCommand>
        <utu:NavigationBar.ContentTemplate>
          <DataTemplate>
            <TextBlock Text="{Binding}"
                       FontSize="48"
                       FontWeight="Bold"
                       VerticalAlignment="Bottom" />
          </DataTemplate>
        </utu:NavigationBar.ContentTemplate>
      </utu:NavigationBar>

      <!-- Section 1: Dialog Body -->
      <utu:AutoLayout Orientation="Vertical" Spacing="{StaticResource Space600}">
        <TextBlock Text="Dialog Body"
                   FontWeight="Bold"
                   Style="{StaticResource HeadingTextBlockStyle}" />

        <!-- Matrix Layout with Row Labels -->
        <Grid ColumnSpacing="16" RowSpacing="16">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>

          <!-- Row 1: Overlay (Card variant) -->
          <TextBlock Grid.Row="0" Grid.Column="0"
                     Text="Overlay"
                     Style="{StaticResource BodyStrongTextBlockStyle}"
                     VerticalAlignment="Top"
                     Margin="0,0,16,0"/>
          
          <Border Grid.Row="0" Grid.Column="1"
                  Background="{StaticResource DialogBackgroundBrush}"
                  BorderBrush="{StaticResource DialogBorderBrush}"
                  BorderThickness="1"
                  CornerRadius="{StaticResource Radius200}"
                  MaxWidth="600"
                  Width="466"
                  Padding="{StaticResource Spacing800}"
                  Translation="0, 0, 32">
            <Border.Shadow>
              <ThemeShadow />
            </Border.Shadow>
            
            <Grid>
              <utu:AutoLayout Orientation="Vertical" 
                              Spacing="{StaticResource Space600}"
                              CounterAxisAlignment="End">
                
                <!-- Text Section -->
                <utu:AutoLayout Orientation="Vertical" 
                                Spacing="{StaticResource Space300}"
                                utu:AutoLayout.CounterAlignment="Stretch">
                  <TextBlock Text="Text Heading"
                             FontSize="24"
                             FontWeight="SemiBold"
                             CharacterSpacing="-20"
                             Foreground="{StaticResource OnSurfaceBrush}" />
                  <TextBlock Text="Body text"
                             FontSize="16"
                             TextWrapping="Wrap"
                             Foreground="{StaticResource OnSurfaceBrush}" />
                </utu:AutoLayout>
                
                <!-- Button Group -->
                <utu:AutoLayout Orientation="Horizontal"
                                Spacing="{StaticResource Space400}">
                  
                  <!-- Secondary Button -->
                  <Button Background="{StaticResource SecondaryButtonBackgroundBrush}"
                          BorderBrush="{StaticResource SecondaryButtonBorderBrush}"
                          BorderThickness="1"
                          CornerRadius="{StaticResource Radius200}"
                          Padding="12"
                          MinWidth="0"
                          HorizontalContentAlignment="Center"
                          Content="Button"
                          FontSize="16"
                          Foreground="{StaticResource OnSurfaceBrush}" />
                  
                  <!-- Primary Button -->
                  <Button Background="{StaticResource PrimaryButtonBackgroundBrush}"
                          BorderBrush="{StaticResource PrimaryButtonBackgroundBrush}"
                          BorderThickness="1"
                          CornerRadius="{StaticResource Radius200}"
                          Padding="12"
                          MinWidth="0"
                          HorizontalContentAlignment="Center"
                          Content="Button"
                          FontSize="16"
                          Foreground="{StaticResource PrimaryButtonTextBrush}" />
                </utu:AutoLayout>
              </utu:AutoLayout>
              
              <!-- Close Button (Dismissible) -->
              <Button HorizontalAlignment="Right"
                      VerticalAlignment="Top"
                      Background="Transparent"
                      BorderThickness="0"
                      Padding="0"
                      Margin="0,-16,-16,0"
                      Width="24"
                      Height="24">
                <FontIcon Glyph="&#xE711;"
                          FontSize="12"
                          Foreground="{StaticResource OnSurfaceBrush}" />
              </Button>
            </Grid>
          </Border>

          <!-- Row 2: Bottom Sheet -->
          <TextBlock Grid.Row="1" Grid.Column="0"
                     Text="Bottom Sheet"
                     Style="{StaticResource BodyStrongTextBlockStyle}"
                     VerticalAlignment="Top"
                     Margin="0,0,16,0"/>
          
          <Border Grid.Row="1" Grid.Column="1"
                  Background="{StaticResource DialogBackgroundBrush}"
                  BorderBrush="{StaticResource DialogBorderBrush}"
                  BorderThickness="0,1,0,0"
                  MaxWidth="600"
                  Width="466"
                  Padding="{StaticResource Spacing800}"
                  MinHeight="160">
            
            <Grid>
              <utu:AutoLayout Orientation="Vertical" 
                              Spacing="{StaticResource Space800}"
                              CounterAxisAlignment="End">
                
                <!-- Text Section -->
                <utu:AutoLayout Orientation="Vertical" 
                                Spacing="{StaticResource Space300}"
                                utu:AutoLayout.CounterAlignment="Stretch">
                  <TextBlock Text="Text Heading"
                             FontSize="24"
                             FontWeight="SemiBold"
                             CharacterSpacing="-20"
                             Foreground="{StaticResource OnSurfaceBrush}" />
                  <TextBlock Text="Body text"
                             FontSize="16"
                             TextWrapping="Wrap"
                             Foreground="{StaticResource OnSurfaceBrush}" />
                </utu:AutoLayout>
                
                <!-- Button Group -->
                <utu:AutoLayout Orientation="Horizontal"
                                Spacing="{StaticResource Space400}">
                  
                  <!-- Secondary Button -->
                  <Button Background="{StaticResource SecondaryButtonBackgroundBrush}"
                          BorderBrush="{StaticResource SecondaryButtonBorderBrush}"
                          BorderThickness="1"
                          CornerRadius="{StaticResource Radius200}"
                          Padding="12"
                          MinWidth="0"
                          HorizontalContentAlignment="Center"
                          Content="Button"
                          FontSize="16"
                          Foreground="{StaticResource OnSurfaceBrush}" />
                  
                  <!-- Primary Button -->
                  <Button Background="{StaticResource PrimaryButtonBackgroundBrush}"
                          BorderBrush="{StaticResource PrimaryButtonBackgroundBrush}"
                          BorderThickness="1"
                          CornerRadius="{StaticResource Radius200}"
                          Padding="12"
                          MinWidth="0"
                          HorizontalContentAlignment="Center"
                          Content="Button"
                          FontSize="16"
                          Foreground="{StaticResource PrimaryButtonTextBrush}" />
                </utu:AutoLayout>
              </utu:AutoLayout>
              
              <!-- Close Button (Dismissible) -->
              <Button HorizontalAlignment="Right"
                      VerticalAlignment="Top"
                      Background="Transparent"
                      BorderThickness="0"
                      Padding="0"
                      Margin="0,-16,-16,0"
                      Width="24"
                      Height="24">
                <FontIcon Glyph="&#xE711;"
                          FontSize="12"
                          Foreground="{StaticResource OnSurfaceBrush}" />
              </Button>
            </Grid>
          </Border>
        </Grid>
      </utu:AutoLayout>

      <!-- Section 2: Dialog (with scrim/backdrop) -->
      <utu:AutoLayout Orientation="Vertical" Spacing="{StaticResource Space600}">
        <TextBlock Text="Dialog"
                   FontWeight="Bold"
                   Style="{StaticResource HeadingTextBlockStyle}" />

        <!-- Dialog with Scrim Background -->
        <Grid Width="1200" Height="768">
          <!-- Scrim/Backdrop -->
          <Border Background="{StaticResource DialogScrimBrush}" />
          
          <!-- Dialog Content -->
          <Border Background="{StaticResource DialogBackgroundBrush}"
                  BorderBrush="{StaticResource DialogBorderBrush}"
                  BorderThickness="1"
                  CornerRadius="{StaticResource Radius200}"
                  MaxWidth="600"
                  Width="466"
                  Padding="{StaticResource Spacing800}"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  Translation="0, 0, 32">
            <Border.Shadow>
              <ThemeShadow />
            </Border.Shadow>
            
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
              </Grid.RowDefinitions>
              
              <!-- Close Button (Dismissible) - Top Row -->
              <Button Grid.Row="0"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Top"
                      Background="Transparent"
                      BorderThickness="0"
                      Padding="0"
                      Margin="0,-16,-16,0"
                      Width="24"
                      Height="24">
                <FontIcon Glyph="&#xE711;"
                          FontSize="12"
                          Foreground="{StaticResource OnSurfaceBrush}" />
              </Button>
              
              <!-- Content - Bottom Row -->
              <utu:AutoLayout Grid.Row="1"
                              Orientation="Vertical" 
                              Spacing="{StaticResource Space600}"
                              CounterAxisAlignment="End">
                
                <!-- Text Section -->
                <utu:AutoLayout Orientation="Vertical" 
                                Spacing="{StaticResource Space300}"
                                utu:AutoLayout.CounterAlignment="Stretch">
                  <TextBlock Text="Text Heading"
                             FontSize="24"
                             FontWeight="SemiBold"
                             CharacterSpacing="-20"
                             Foreground="{StaticResource OnSurfaceBrush}" />
                  <TextBlock Text="Body text"
                             FontSize="16"
                             TextWrapping="Wrap"
                             Foreground="{StaticResource OnSurfaceBrush}" />
                </utu:AutoLayout>
                
                <!-- Button Group -->
                <utu:AutoLayout Orientation="Horizontal"
                                Spacing="{StaticResource Space400}">
                  
                  <!-- Secondary Button -->
                  <Button Background="{StaticResource SecondaryButtonBackgroundBrush}"
                          BorderBrush="{StaticResource SecondaryButtonBorderBrush}"
                          BorderThickness="1"
                          CornerRadius="{StaticResource Radius200}"
                          Padding="12"
                          MinWidth="0"
                          HorizontalContentAlignment="Center"
                          Content="Button"
                          FontSize="16"
                          Foreground="{StaticResource OnSurfaceBrush}" />
                  
                  <!-- Primary Button -->
                  <Button Background="{StaticResource PrimaryButtonBackgroundBrush}"
                          BorderBrush="{StaticResource PrimaryButtonBackgroundBrush}"
                          BorderThickness="1"
                          CornerRadius="{StaticResource Radius200}"
                          Padding="12"
                          MinWidth="0"
                          HorizontalContentAlignment="Center"
                          Content="Button"
                          FontSize="16"
                          Foreground="{StaticResource PrimaryButtonTextBrush}" />
                </utu:AutoLayout>
              </utu:AutoLayout>
            </Grid>
          </Border>
        </Grid>
      </utu:AutoLayout>

      <!-- Source Code Display -->
      <controls:SourceCodeViewer PageXamlPath="DialogPage.xaml" />

    </utu:AutoLayout>
  </ScrollViewer>
</Page>

